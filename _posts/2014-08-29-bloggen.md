---
layout: post
comments: true
image: 
  feature: feature/noimg.png
title: "Bloggen mit Jekyll und so..."
tags: 
  - tech
  - jekyll
---


## prose.io
Das ist ein Test um mal zu schauen wie das mit dem bloggen via [prose.io](http://prose.io/) so klappt...

#### my $0.02
Prinzipiell zwar nicht unbedingt notwendig da man auch schnell über das Github-Webinterface einen neuen Post anlegen könnte, aber komfortabel ist es schon ;) Vor allem wenn es darum geht, mal schnell ein, zwei Bilder anzuhängen. Das einzige was aus meiner Sicht noch fehlt ist die Möglichkeit, kleine Text-Snippets zu speichern – zum einen für die Metadaten und zum anderen dass man den HTML-Code für schöne Bilder nicht immer irgendwoher[^1] copypasten muss.

#### good to know
Empfehlenswert ist außerdem, ein paar Settings in der `_config.yml`[^2] zu setzen, so dass Bilder im richtigen Verzeichnis landen und die Metadaten je Post sinnvoll vorausgefüllt werden... die möglichen Optionen sind im [Wiki](https://github.com/prose/prose/wiki/Prose-Configuration) beschrieben.

#### Screenshot

<figure>
	<a href="{{ site.url }}/images/screen-prose.png"><img src="{{ site.url }}/images/screen-prose.png"></a>
	<figcaption>Screenshot von prose.io beim Schreiben dieses Beitrags.</figcaption>
</figure>


## liquid Templates
Was auch ganz cool ist ist die [Liquid](http://wiki.shopify.com/Liquid) Template Engine dahinter, die es recht einfach erlaubt *mal schnell was selber zu basteln* ohne sich tief einarbeiten zu müssen. 

Was damit möglich ist lässt sich an [diesem Blogeintrag]({% post_url 2012-09-29-shanghai-impressions %}) gut zeigen. Der zugrundeliegende Markdown-"Quelltext" sah anfangs so aus:

{% highlight html linenos %}
{% raw %}
---
layout: post
comments: true
image: 
  feature: feature/cnshanghaiskyline.jpg
title: "noch ein paar mehr Eindrücke aus Shanghai"
tags: [travel, photos, china]
---

#### (Fotopost)

<figure>
	<a href="{{ site.url }}/images/p/2012_china/moreshanghai/P9290893.jpg"><img src="{{ site.url }}/images/p/2012_china/moreshanghai/P9290893_tn.jpg"></a>
	<figcaption></figcaption>
</figure>
<figure>
	<a href="{{ site.url }}/images/p/2012_china/moreshanghai/P9290902.jpg"><img src="{{ site.url }}/images/p/2012_china/moreshanghai/P9290902_tn.jpg"></a>
	<figcaption></figcaption>
</figure>
<figure>
	<a href="{{ site.url }}/images/p/2012_china/moreshanghai/P9290915.jpg"><img src="{{ site.url }}/images/p/2012_china/moreshanghai/P9290915_tn.jpg"></a>
	<figcaption></figcaption>
</figure>
<figure>
	<a href="{{ site.url }}/images/p/2012_china/moreshanghai/P9290925.jpg"><img src="{{ site.url }}/images/p/2012_china/moreshanghai/P9290925_tn.jpg"></a>
	<figcaption></figcaption>
</figure>
<figure>
	<a href="{{ site.url }}/images/p/2012_china/moreshanghai/P9290948.jpg"><img src="{{ site.url }}/images/p/2012_china/moreshanghai/P9290948_tn.jpg"></a>
	<figcaption></figcaption>
</figure>
<figure>
	<a href="{{ site.url }}/images/p/2012_china/moreshanghai/P9290986.jpg"><img src="{{ site.url }}/images/p/2012_china/moreshanghai/P9290986_tn.jpg"></a>
	<figcaption></figcaption>
</figure>
{% endraw %}
{% endhighlight %}

Nicht schön. Man kann dem Post aber auch einfach eine Liste der Bilder, die man zeigen möchte, in den Metadaten (heißt hier *Front Matter*) mitgeben:

{% highlight html linenos %}
{% raw %}
---
layout: post
comments: true
image: 
  feature: feature/cnshanghaiskyline.jpg
title: "noch ein paar mehr Eindrücke aus Shanghai"
tags: [travel, photos, china]
fotos:
  filepath: "images/p/2012_china/moreshanghai/"
  images:
    - filefs: "P9290893.jpg"
      filetn: "P9290893_tn.jpg"
    - filefs: "P9290902.jpg"
      filetn: "P9290902_tn.jpg"
    - filefs: "P9290915.jpg"
      filetn: "P9290915_tn.jpg"
    - filefs: "P9290925.jpg"
      filetn: "P9290925_tn.jpg"
    - filefs: "P9290948.jpg"
      filetn: "P9290948_tn.jpg"
    - filefs: "P9290986.jpg"
      filetn: "P9290986_tn.jpg"
---

#### (Fotopost)
{% endraw %}
{% endhighlight %}

Schon deutlich übersichtlicher. Das funktioniert, weil Jekyll alle Felder die nicht [global vordefiniert](http://jekyllrb.com/docs/frontmatter/#predefined-global-variables) sind, an die Template-Engine durchreicht. Jetzt muss man nur noch in der `layouts/post.html` eben diese Metadaten auswerten. Der Platzhalter für den (HTML-formatierten) Text des Beitrags ist `{% raw %}{{ content }}{% endraw %}`. Dahinter kann man nun folgendes ergänzen:

{% highlight html linenos %}
{% raw %}
{% if page.fotos %}
{% for foto in page.fotos.images %}
<figure>
  {% if foto.filetn %}
    <a href="{{ site.url }}/{{ page.fotos.filepath }}{{ foto.filefs }}"><img src="{{ site.url }}/{{ page.fotos.filepath }}{{ foto.filetn }}"></a>
  {% else %}
    <a href="{{ site.url }}/{{ page.fotos.filepath }}{{ foto.filefs }}"><img src="{{ site.url }}/{{ page.fotos.filepath }}{{ foto.filefs }}"></a>
{% endif %}
<figcaption>{{ foto.caption }}</figcaption>
</figure>
{% endfor %}
{% endif %} 
{% endraw %}
{% endhighlight %}

Hier gibt `filefs` den Dateinamen des Originalbildes an (*fullsize*), `filetn` den des Thumbnails. Außerdem kann mit `caption` noch ein Bildtitel angegeben werden. Außer `filefs` sind aber alle Parameter optional.

Der resultierende HTML-Code dürfte annähernd der gleiche sein, aber man spart sich Tipparbeit und Fehlersuche. Und wenn man mal später das ganze schöner gestalten will ändert man nur noch bequem die Layout-Datei ab.



[^1]: [Beispielpost](http://mmistakes.github.io/minimal-mistakes/sample-post-images/) und [zugehöriger Quellcode](https://raw.githubusercontent.com/mmistakes/minimal-mistakes/master/_posts/2013-05-22-sample-post-images.md)
[^2]: Die für dieses Blog kann man [hier](https://github.com/carstenboehm/carstenboehm.github.io/blob/master/_config.yml) einsehen.